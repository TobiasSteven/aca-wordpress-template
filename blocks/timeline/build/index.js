(()=>{"use strict";const e=window.wp.blocks,t=window.React,l=window.wp.i18n,a=window.wp.blockEditor,o=window.wp.components,n=window.wp.element,r=JSON.parse('{"UU":"mon-theme-aca/timeline"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const{sectionTitle:c,sectionSubtitle:m,timelineItems:i,lineColor:s,dotColor:d,yearColor:u,titleColor:h,textColor:E,backgroundColor:p}=e,x=(0,a.useBlockProps)({style:{backgroundColor:p,padding:"4rem 0"}}),C=(e,t,l)=>{const a=[...i];a[e][t]=l,r({timelineItems:a})},b=(e,t)=>{if("up"===t&&0===e||"down"===t&&e===i.length-1)return;const l=[...i],a="up"===t?e-1:e+1,o=l[e];l.splice(e,1),l.splice(a,0,o),r({timelineItems:l})};return(0,t.createElement)(n.Fragment,null,(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(o.PanelBody,{title:(0,l.__)("Paramètres de la section","mon-theme-aca")},(0,t.createElement)(o.TextControl,{label:(0,l.__)("Titre de la section","mon-theme-aca"),value:c,onChange:e=>r({sectionTitle:e})}),(0,t.createElement)(o.TextareaControl,{label:(0,l.__)("Sous-titre de la section","mon-theme-aca"),value:m,onChange:e=>r({sectionSubtitle:e})})),(0,t.createElement)(o.PanelBody,{title:(0,l.__)("Couleurs","mon-theme-aca")},(0,t.createElement)("div",{className:"timeline-color-option"},(0,t.createElement)("label",null,(0,l.__)("Couleur de la ligne","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:s,onChange:e=>r({lineColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"timeline-color-option"},(0,t.createElement)("label",null,(0,l.__)("Couleur des points","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:d,onChange:e=>r({dotColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"timeline-color-option"},(0,t.createElement)("label",null,(0,l.__)("Couleur des années","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:u,onChange:e=>r({yearColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"timeline-color-option"},(0,t.createElement)("label",null,(0,l.__)("Couleur des titres","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:h,onChange:e=>r({titleColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"timeline-color-option"},(0,t.createElement)("label",null,(0,l.__)("Couleur du texte","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:E,onChange:e=>r({textColor:e}),enableAlpha:!0})),(0,t.createElement)("div",{className:"timeline-color-option"},(0,t.createElement)("label",null,(0,l.__)("Couleur de fond","mon-theme-aca")),(0,t.createElement)(o.ColorPicker,{color:p,onChange:e=>r({backgroundColor:e}),enableAlpha:!0}))),(0,t.createElement)(o.PanelBody,{title:(0,l.__)("Éléments de la timeline","mon-theme-aca")},(0,t.createElement)(o.Button,{isPrimary:!0,onClick:()=>{const e={year:(new Date).getFullYear().toString(),title:(0,l.__)("Nouvelle réalisation","mon-theme-aca"),description:(0,l.__)("Description de la réalisation...","mon-theme-aca")};r({timelineItems:[...i,e]})},style:{marginBottom:"16px",width:"100%"}},(0,l.__)("Ajouter un élément","mon-theme-aca")),i.map(((e,a)=>(0,t.createElement)("div",{key:a,className:"timeline-item-edit"},(0,t.createElement)("h3",{className:"timeline-item-title"},(0,l.__)("Élément","mon-theme-aca")," ",a+1),(0,t.createElement)(o.TextControl,{label:(0,l.__)("Année","mon-theme-aca"),value:e.year,onChange:e=>C(a,"year",e)}),(0,t.createElement)(o.TextControl,{label:(0,l.__)("Titre","mon-theme-aca"),value:e.title,onChange:e=>C(a,"title",e)}),(0,t.createElement)(o.TextareaControl,{label:(0,l.__)("Description","mon-theme-aca"),value:e.description,onChange:e=>C(a,"description",e)}),(0,t.createElement)("div",{className:"timeline-item-actions"},(0,t.createElement)(o.Button,{isSecondary:!0,onClick:()=>b(a,"up"),disabled:0===a,icon:"arrow-up-alt2",label:(0,l.__)("Déplacer vers le haut","mon-theme-aca")}),(0,t.createElement)(o.Button,{isSecondary:!0,onClick:()=>b(a,"down"),disabled:a===i.length-1,icon:"arrow-down-alt2",label:(0,l.__)("Déplacer vers le bas","mon-theme-aca")}),(0,t.createElement)(o.Button,{isDestructive:!0,onClick:()=>(e=>{const t=i.filter(((t,l)=>l!==e));r({timelineItems:t})})(a),icon:"trash",label:(0,l.__)("Supprimer","mon-theme-aca")}))))))),(0,t.createElement)("div",{...x},(0,t.createElement)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},(0,t.createElement)("div",{className:"text-center mb-12"},(0,t.createElement)(a.RichText,{tagName:"h2",className:"text-3xl md:text-4xl font-bold mb-4",style:{color:h},value:c,onChange:e=>r({sectionTitle:e}),placeholder:(0,l.__)("Titre de la section...","mon-theme-aca")}),(0,t.createElement)(a.RichText,{tagName:"p",className:"text-lg max-w-2xl mx-auto",style:{color:E},value:m,onChange:e=>r({sectionSubtitle:e}),placeholder:(0,l.__)("Sous-titre de la section...","mon-theme-aca")})),(0,t.createElement)("div",{className:"relative"},(0,t.createElement)("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 h-full",style:{backgroundColor:s}}),(0,t.createElement)("div",{className:"space-y-12"},i.map(((e,o)=>(0,t.createElement)("div",{key:o,className:"flex items-center "+(o%2==0?"flex-row":"flex-row-reverse")},(0,t.createElement)("div",{className:"w-1/2 "+(o%2==0?"pr-8 text-right":"pl-8 text-left")},(0,t.createElement)("div",{className:"bg-white p-6 rounded-lg shadow-lg border-l-4",style:{borderColor:s}},(0,t.createElement)(a.RichText,{tagName:"div",className:"text-2xl font-bold mb-2",style:{color:u},value:e.year,onChange:e=>C(o,"year",e),placeholder:(0,l.__)("Année...","mon-theme-aca")}),(0,t.createElement)(a.RichText,{tagName:"h3",className:"text-xl font-bold mb-3",style:{color:h},value:e.title,onChange:e=>C(o,"title",e),placeholder:(0,l.__)("Titre...","mon-theme-aca")}),(0,t.createElement)(a.RichText,{tagName:"p",style:{color:E},value:e.description,onChange:e=>C(o,"description",e),placeholder:(0,l.__)("Description...","mon-theme-aca")}))),(0,t.createElement)("div",{className:"relative z-10"},(0,t.createElement)("div",{className:"w-6 h-6 rounded-full border-4 border-white shadow-lg",style:{backgroundColor:d}})),(0,t.createElement)("div",{className:"w-1/2"})))))))))},save:function({attributes:e}){const{sectionTitle:l,sectionSubtitle:o,timelineItems:n,lineColor:r,dotColor:c,yearColor:m,titleColor:i,textColor:s,backgroundColor:d}=e,u=a.useBlockProps.save({style:{backgroundColor:d,padding:"4rem 0"}});return(0,t.createElement)("div",{...u},(0,t.createElement)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},(0,t.createElement)("div",{className:"text-center mb-12"},(0,t.createElement)(a.RichText.Content,{tagName:"h2",className:"text-3xl md:text-4xl font-bold mb-4",style:{color:i},value:l}),(0,t.createElement)(a.RichText.Content,{tagName:"p",className:"text-lg max-w-2xl mx-auto",style:{color:s},value:o})),(0,t.createElement)("div",{className:"relative"},(0,t.createElement)("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 h-full",style:{backgroundColor:r}}),(0,t.createElement)("div",{className:"space-y-12"},n.map(((e,l)=>(0,t.createElement)("div",{key:l,className:"flex items-center "+(l%2==0?"flex-row":"flex-row-reverse")},(0,t.createElement)("div",{className:"w-1/2 "+(l%2==0?"pr-8 text-right":"pl-8 text-left")},(0,t.createElement)("div",{className:"bg-white p-6 rounded-lg shadow-lg border-l-4",style:{borderColor:r}},(0,t.createElement)("div",{className:"text-2xl font-bold mb-2",style:{color:m}},(0,t.createElement)(a.RichText.Content,{value:e.year})),(0,t.createElement)("h3",{className:"text-xl font-bold mb-3",style:{color:i}},(0,t.createElement)(a.RichText.Content,{value:e.title})),(0,t.createElement)("p",{style:{color:s}},(0,t.createElement)(a.RichText.Content,{value:e.description})))),(0,t.createElement)("div",{className:"relative z-10"},(0,t.createElement)("div",{className:"w-6 h-6 rounded-full border-4 border-white shadow-lg",style:{backgroundColor:c}})),(0,t.createElement)("div",{className:"w-1/2"}))))))))}})})();