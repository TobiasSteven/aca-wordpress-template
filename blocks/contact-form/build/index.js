(()=>{"use strict";const e=window.wp.blocks,a=window.React,t=window.wp.i18n,l=window.wp.blockEditor,o=window.wp.components,r=window.wp.element,m=JSON.parse('{"UU":"mon-theme-aca/contact-form"}');(0,e.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:m}){const{title:n,formId:c,recipientEmail:s,successMessage:i,errorMessage:d,showOrganizationField:u,showContactReasonField:p,showPreferredContactField:E,contactReasons:h,backgroundColor:f,textColor:b,buttonColor:N,buttonTextColor:_}=e,[g,v]=(0,r.useState)(""),C=(0,l.useBlockProps)({className:"contact-form-block",style:{backgroundColor:f,color:b}});return(0,a.createElement)(r.Fragment,null,(0,a.createElement)(l.InspectorControls,null,(0,a.createElement)(o.PanelBody,{title:(0,t.__)("Paramètres du formulaire","mon-theme-aca")},(0,a.createElement)(o.TextControl,{label:(0,t.__)("ID du formulaire","mon-theme-aca"),value:c,onChange:e=>m({formId:e}),help:(0,t.__)("Identifiant unique pour ce formulaire","mon-theme-aca")}),(0,a.createElement)(o.TextControl,{label:(0,t.__)("Email destinataire","mon-theme-aca"),type:"email",value:s,onChange:e=>m({recipientEmail:e}),help:(0,t.__)("Email qui recevra les messages du formulaire","mon-theme-aca")}),(0,a.createElement)(o.TextareaControl,{label:(0,t.__)("Message de succès","mon-theme-aca"),value:i,onChange:e=>m({successMessage:e})}),(0,a.createElement)(o.TextareaControl,{label:(0,t.__)("Message d'erreur","mon-theme-aca"),value:d,onChange:e=>m({errorMessage:e})})),(0,a.createElement)(o.PanelBody,{title:(0,t.__)("Champs du formulaire","mon-theme-aca")},(0,a.createElement)(o.ToggleControl,{label:(0,t.__)('Afficher le champ "Organisation"',"mon-theme-aca"),checked:u,onChange:e=>m({showOrganizationField:e})}),(0,a.createElement)(o.ToggleControl,{label:(0,t.__)('Afficher le champ "Motif de contact"',"mon-theme-aca"),checked:p,onChange:e=>m({showContactReasonField:e})}),(0,a.createElement)(o.ToggleControl,{label:(0,t.__)('Afficher le champ "Méthode de contact préférée"',"mon-theme-aca"),checked:E,onChange:e=>m({showPreferredContactField:e})}),p&&(0,a.createElement)("div",{className:"contact-reasons-editor"},(0,a.createElement)("p",{className:"contact-reasons-title"},(0,t.__)("Motifs de contact","mon-theme-aca")),(0,a.createElement)("ul",{className:"contact-reasons-list"},h.map(((e,t)=>(0,a.createElement)("li",{key:t,className:"contact-reason-item"},(0,a.createElement)("span",null,e),(0,a.createElement)(o.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const a=[...h];a.splice(e,1),m({contactReasons:a})})(t),icon:"trash"}))))),(0,a.createElement)("div",{className:"contact-reason-add"},(0,a.createElement)(o.TextControl,{value:g,onChange:e=>v(e),placeholder:(0,t.__)("Nouveau motif...","mon-theme-aca")}),(0,a.createElement)(o.Button,{isPrimary:!0,onClick:()=>{""!==g.trim()&&(m({contactReasons:[...h,g.trim()]}),v(""))},disabled:""===g.trim()},(0,t.__)("Ajouter","mon-theme-aca"))))),(0,a.createElement)(o.PanelBody,{title:(0,t.__)("Couleurs","mon-theme-aca")},(0,a.createElement)("div",{className:"color-option"},(0,a.createElement)("label",null,(0,t.__)("Couleur de fond","mon-theme-aca")),(0,a.createElement)(o.ColorPicker,{color:f,onChange:e=>m({backgroundColor:e}),enableAlpha:!0})),(0,a.createElement)("div",{className:"color-option"},(0,a.createElement)("label",null,(0,t.__)("Couleur du texte","mon-theme-aca")),(0,a.createElement)(o.ColorPicker,{color:b,onChange:e=>m({textColor:e}),enableAlpha:!0})),(0,a.createElement)("div",{className:"color-option"},(0,a.createElement)("label",null,(0,t.__)("Couleur du bouton","mon-theme-aca")),(0,a.createElement)(o.ColorPicker,{color:N,onChange:e=>m({buttonColor:e}),enableAlpha:!0})),(0,a.createElement)("div",{className:"color-option"},(0,a.createElement)("label",null,(0,t.__)("Couleur du texte du bouton","mon-theme-aca")),(0,a.createElement)(o.ColorPicker,{color:_,onChange:e=>m({buttonTextColor:e}),enableAlpha:!0})))),(0,a.createElement)("div",{...C},(0,a.createElement)("div",{className:"contact-form-container"},(0,a.createElement)(l.RichText,{tagName:"h2",className:"contact-form-title",value:n,onChange:e=>m({title:e}),placeholder:(0,t.__)("Titre du formulaire...","mon-theme-aca")}),(0,a.createElement)("div",{className:"contact-form-preview"},(0,a.createElement)("div",{className:"form-row"},(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label"},(0,t.__)("Prénom *","mon-theme-aca")),(0,a.createElement)("input",{type:"text",className:"form-control",placeholder:(0,t.__)("Votre prénom","mon-theme-aca"),disabled:!0})),(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label"},(0,t.__)("Nom *","mon-theme-aca")),(0,a.createElement)("input",{type:"text",className:"form-control",placeholder:(0,t.__)("Votre nom","mon-theme-aca"),disabled:!0}))),(0,a.createElement)("div",{className:"form-row"},(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label"},(0,t.__)("Email *","mon-theme-aca")),(0,a.createElement)("input",{type:"email",className:"form-control",placeholder:(0,t.__)("votre.email@exemple.com","mon-theme-aca"),disabled:!0})),(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label"},(0,t.__)("Téléphone","mon-theme-aca")),(0,a.createElement)("input",{type:"tel",className:"form-control",placeholder:(0,t.__)("Votre numéro de téléphone","mon-theme-aca"),disabled:!0}))),u&&(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label"},(0,t.__)("Organisation","mon-theme-aca")),(0,a.createElement)("input",{type:"text",className:"form-control",placeholder:(0,t.__)("Nom de votre entreprise ou organisation","mon-theme-aca"),disabled:!0})),p&&(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label"},(0,t.__)("Motif de contact *","mon-theme-aca")),(0,a.createElement)("select",{className:"form-control",disabled:!0},(0,a.createElement)("option",{value:""},(0,t.__)("Sélectionnez un motif","mon-theme-aca")),h.map(((e,t)=>(0,a.createElement)("option",{key:t,value:e},e))))),(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label"},(0,t.__)("Sujet *","mon-theme-aca")),(0,a.createElement)("input",{type:"text",className:"form-control",placeholder:(0,t.__)("Résumé de votre demande","mon-theme-aca"),disabled:!0})),(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label"},(0,t.__)("Message *","mon-theme-aca")),(0,a.createElement)("textarea",{className:"form-control",rows:6,placeholder:(0,t.__)("Décrivez votre demande en détail...","mon-theme-aca"),disabled:!0})),E&&(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label"},(0,t.__)("Méthode de contact préférée","mon-theme-aca")),(0,a.createElement)("div",{className:"radio-group"},(0,a.createElement)("label",{className:"radio-label"},(0,a.createElement)("input",{type:"radio",name:"preferredContact",value:"email",checked:!0,disabled:!0}),(0,a.createElement)("span",null,(0,t.__)("Email","mon-theme-aca"))),(0,a.createElement)("label",{className:"radio-label"},(0,a.createElement)("input",{type:"radio",name:"preferredContact",value:"phone",disabled:!0}),(0,a.createElement)("span",null,(0,t.__)("Téléphone","mon-theme-aca"))))),(0,a.createElement)("div",{className:"form-submit"},(0,a.createElement)("button",{type:"button",className:"submit-button",style:{backgroundColor:N,color:_},disabled:!0},(0,a.createElement)("span",{className:"submit-icon"}),(0,a.createElement)("span",null,(0,t.__)("Envoyer le message","mon-theme-aca"))))))))},save:function({attributes:e}){const{title:t,formId:o,showOrganizationField:r,showContactReasonField:m,showPreferredContactField:n,contactReasons:c,backgroundColor:s,textColor:i,buttonColor:d,buttonTextColor:u}=e,p=l.useBlockProps.save({className:"contact-form-block",style:{backgroundColor:s,color:i}});return(0,a.createElement)("div",{...p},(0,a.createElement)("div",{className:"contact-form-container"},(0,a.createElement)("h2",{className:"contact-form-title"},t),(0,a.createElement)("form",{id:o,className:"contact-form","data-form-id":o},(0,a.createElement)("div",{className:"form-row"},(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label",htmlFor:`${o}-first-name`},"Prénom *"),(0,a.createElement)("input",{type:"text",id:`${o}-first-name`,name:"firstName",className:"form-control",placeholder:"Votre prénom",required:!0})),(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label",htmlFor:`${o}-last-name`},"Nom *"),(0,a.createElement)("input",{type:"text",id:`${o}-last-name`,name:"lastName",className:"form-control",placeholder:"Votre nom",required:!0}))),(0,a.createElement)("div",{className:"form-row"},(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label",htmlFor:`${o}-email`},"Email *"),(0,a.createElement)("input",{type:"email",id:`${o}-email`,name:"email",className:"form-control",placeholder:"votre.email@exemple.com",required:!0})),(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label",htmlFor:`${o}-phone`},"Téléphone"),(0,a.createElement)("input",{type:"tel",id:`${o}-phone`,name:"phone",className:"form-control",placeholder:"Votre numéro de téléphone"}))),r&&(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label",htmlFor:`${o}-organization`},"Organisation"),(0,a.createElement)("input",{type:"text",id:`${o}-organization`,name:"organization",className:"form-control",placeholder:"Nom de votre entreprise ou organisation"})),m&&(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label",htmlFor:`${o}-contact-reason`},"Motif de contact *"),(0,a.createElement)("select",{id:`${o}-contact-reason`,name:"contactReason",className:"form-control",required:!0},(0,a.createElement)("option",{value:""},"Sélectionnez un motif"),c.map(((e,t)=>(0,a.createElement)("option",{key:t,value:e},e))))),(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label",htmlFor:`${o}-subject`},"Sujet *"),(0,a.createElement)("input",{type:"text",id:`${o}-subject`,name:"subject",className:"form-control",placeholder:"Résumé de votre demande",required:!0})),(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label",htmlFor:`${o}-message`},"Message *"),(0,a.createElement)("textarea",{id:`${o}-message`,name:"message",className:"form-control",rows:6,placeholder:"Décrivez votre demande en détail...",required:!0})),n&&(0,a.createElement)("div",{className:"form-group"},(0,a.createElement)("label",{className:"form-label"},"Méthode de contact préférée"),(0,a.createElement)("div",{className:"radio-group"},(0,a.createElement)("label",{className:"radio-label"},(0,a.createElement)("input",{type:"radio",name:"preferredContact",value:"email",defaultChecked:!0}),(0,a.createElement)("span",null,"Email")),(0,a.createElement)("label",{className:"radio-label"},(0,a.createElement)("input",{type:"radio",name:"preferredContact",value:"phone"}),(0,a.createElement)("span",null,"Téléphone")))),(0,a.createElement)("div",{className:"form-submit"},(0,a.createElement)("button",{type:"submit",className:"submit-button",style:{backgroundColor:d,color:u}},(0,a.createElement)("span",{className:"submit-icon"}),(0,a.createElement)("span",null,"Envoyer le message"))),(0,a.createElement)("div",{className:"form-response success-message",style:{display:"none"}},(0,a.createElement)("div",{className:"response-icon success"}),(0,a.createElement)("div",{className:"response-content"})),(0,a.createElement)("div",{className:"form-response error-message",style:{display:"none"}},(0,a.createElement)("div",{className:"response-icon error"}),(0,a.createElement)("div",{className:"response-content"})))))}})})();