(()=>{"use strict";const e=window.wp.blocks,a=window.React,t=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,c=window.wp.element,o=JSON.parse('{"UU":"mon-theme-aca/contact-sidebar"}');(0,e.registerBlockType)(o.UU,{edit:function({attributes:e,setAttributes:o}){const{quickContactTitle:m,phone:r,email:s,hours:i,departmentsTitle:h,departments:d,socialTitle:p,socialSubtitle:u,facebookUrl:E,twitterUrl:N,linkedinUrl:_,youtubeUrl:C,quickContactBgColor:v,departmentsBgColor:g,socialBgColor:b}=e,[T,k]=(0,c.useState)(0),[x,f]=(0,c.useState)({name:"",email:"",phone:"",description:""}),R=(0,n.useBlockProps)({className:"contact-sidebar-block"}),w=(e,a,t)=>{const n=[...d];n[e]={...n[e],[a]:t},o({departments:n})};return(0,a.createElement)(c.Fragment,null,(0,a.createElement)(n.InspectorControls,null,(0,a.createElement)(l.PanelBody,{title:(0,t.__)("Contact Rapide","mon-theme-aca")},(0,a.createElement)(l.TextControl,{label:(0,t.__)("Titre","mon-theme-aca"),value:m,onChange:e=>o({quickContactTitle:e})}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("Téléphone","mon-theme-aca"),value:r,onChange:e=>o({phone:e})}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("Email","mon-theme-aca"),value:s,onChange:e=>o({email:e})}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("Horaires","mon-theme-aca"),value:i,onChange:e=>o({hours:e})}),(0,a.createElement)("div",{className:"color-option"},(0,a.createElement)("label",null,(0,t.__)("Couleur de fond","mon-theme-aca")),(0,a.createElement)(l.ColorPicker,{color:v,onChange:e=>o({quickContactBgColor:e}),enableAlpha:!0}))),(0,a.createElement)(l.PanelBody,{title:(0,t.__)("Départements","mon-theme-aca")},(0,a.createElement)(l.TextControl,{label:(0,t.__)("Titre","mon-theme-aca"),value:h,onChange:e=>o({departmentsTitle:e})}),(0,a.createElement)("div",{className:"departments-editor"},(0,a.createElement)("div",{className:"departments-list"},(0,a.createElement)("p",{className:"departments-title"},(0,t.__)("Départements","mon-theme-aca")),d.length>0?(0,a.createElement)("div",{className:"departments-tabs"},d.map(((e,n)=>(0,a.createElement)("button",{key:n,className:"department-tab "+(n===T?"active":""),onClick:()=>k(n)},e.name||(0,t.__)("Sans nom","mon-theme-aca"))))):(0,a.createElement)("p",{className:"no-departments"},(0,t.__)("Aucun département ajouté","mon-theme-aca")),d.length>0&&(0,a.createElement)("div",{className:"department-editor"},(0,a.createElement)(l.TextControl,{label:(0,t.__)("Nom","mon-theme-aca"),value:d[T].name,onChange:e=>w(T,"name",e)}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("Email","mon-theme-aca"),value:d[T].email,onChange:e=>w(T,"email",e)}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("Téléphone","mon-theme-aca"),value:d[T].phone,onChange:e=>w(T,"phone",e)}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("Description","mon-theme-aca"),value:d[T].description,onChange:e=>w(T,"description",e)}),(0,a.createElement)(l.Button,{isDestructive:!0,onClick:()=>(e=>{const a=[...d];a.splice(e,1),o({departments:a}),T>=a.length&&k(Math.max(0,a.length-1))})(T)},(0,t.__)("Supprimer ce département","mon-theme-aca")))),(0,a.createElement)("div",{className:"add-department"},(0,a.createElement)("p",{className:"add-department-title"},(0,t.__)("Ajouter un département","mon-theme-aca")),(0,a.createElement)(l.TextControl,{placeholder:(0,t.__)("Nom du département","mon-theme-aca"),value:x.name,onChange:e=>f({...x,name:e})}),(0,a.createElement)(l.TextControl,{placeholder:(0,t.__)("Email","mon-theme-aca"),value:x.email,onChange:e=>f({...x,email:e})}),(0,a.createElement)(l.TextControl,{placeholder:(0,t.__)("Téléphone","mon-theme-aca"),value:x.phone,onChange:e=>f({...x,phone:e})}),(0,a.createElement)(l.TextControl,{placeholder:(0,t.__)("Description","mon-theme-aca"),value:x.description,onChange:e=>f({...x,description:e})}),(0,a.createElement)(l.Button,{isPrimary:!0,onClick:()=>{""!==x.name.trim()&&(o({departments:[...d,{...x}]}),f({name:"",email:"",phone:"",description:""}))},disabled:!x.name.trim()},(0,t.__)("Ajouter","mon-theme-aca")))),(0,a.createElement)("div",{className:"color-option"},(0,a.createElement)("label",null,(0,t.__)("Couleur de fond","mon-theme-aca")),(0,a.createElement)(l.ColorPicker,{color:g,onChange:e=>o({departmentsBgColor:e}),enableAlpha:!0}))),(0,a.createElement)(l.PanelBody,{title:(0,t.__)("Réseaux Sociaux","mon-theme-aca")},(0,a.createElement)(l.TextControl,{label:(0,t.__)("Titre","mon-theme-aca"),value:p,onChange:e=>o({socialTitle:e})}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("Sous-titre","mon-theme-aca"),value:u,onChange:e=>o({socialSubtitle:e})}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("URL Facebook","mon-theme-aca"),value:E,onChange:e=>o({facebookUrl:e})}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("URL Twitter","mon-theme-aca"),value:N,onChange:e=>o({twitterUrl:e})}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("URL LinkedIn","mon-theme-aca"),value:_,onChange:e=>o({linkedinUrl:e})}),(0,a.createElement)(l.TextControl,{label:(0,t.__)("URL YouTube","mon-theme-aca"),value:C,onChange:e=>o({youtubeUrl:e})}),(0,a.createElement)("div",{className:"color-option"},(0,a.createElement)("label",null,(0,t.__)("Couleur de fond","mon-theme-aca")),(0,a.createElement)(l.ColorPicker,{color:b,onChange:e=>o({socialBgColor:e}),enableAlpha:!0})))),(0,a.createElement)("div",{...R},(0,a.createElement)("div",{className:"contact-sidebar-container"},(0,a.createElement)("div",{className:"quick-contact-section",style:{backgroundColor:v}},(0,a.createElement)(n.RichText,{tagName:"h3",className:"section-title",value:m,onChange:e=>o({quickContactTitle:e}),placeholder:(0,t.__)("Titre contact rapide...","mon-theme-aca")}),(0,a.createElement)("div",{className:"contact-items"},(0,a.createElement)("div",{className:"contact-item"},(0,a.createElement)("span",{className:"contact-icon phone-icon"}),(0,a.createElement)("div",{className:"contact-info"},(0,a.createElement)("p",{className:"contact-label"},(0,t.__)("Téléphone","mon-theme-aca")),(0,a.createElement)(n.RichText,{tagName:"p",className:"contact-value",value:r,onChange:e=>o({phone:e}),placeholder:(0,t.__)("Numéro de téléphone...","mon-theme-aca")}))),(0,a.createElement)("div",{className:"contact-item"},(0,a.createElement)("span",{className:"contact-icon email-icon"}),(0,a.createElement)("div",{className:"contact-info"},(0,a.createElement)("p",{className:"contact-label"},(0,t.__)("Email","mon-theme-aca")),(0,a.createElement)(n.RichText,{tagName:"p",className:"contact-value",value:s,onChange:e=>o({email:e}),placeholder:(0,t.__)("Adresse email...","mon-theme-aca")}))),(0,a.createElement)("div",{className:"contact-item"},(0,a.createElement)("span",{className:"contact-icon hours-icon"}),(0,a.createElement)("div",{className:"contact-info"},(0,a.createElement)("p",{className:"contact-label"},(0,t.__)("Horaires","mon-theme-aca")),(0,a.createElement)(n.RichText,{tagName:"p",className:"contact-value",value:i,onChange:e=>o({hours:e}),placeholder:(0,t.__)("Horaires d'ouverture...","mon-theme-aca")}))))),(0,a.createElement)("div",{className:"departments-section",style:{backgroundColor:g}},(0,a.createElement)(n.RichText,{tagName:"h3",className:"section-title",value:h,onChange:e=>o({departmentsTitle:e}),placeholder:(0,t.__)("Titre départements...","mon-theme-aca")}),(0,a.createElement)("div",{className:"departments-list"},d.map(((e,l)=>(0,a.createElement)("div",{key:l,className:"department-item"},(0,a.createElement)(n.RichText,{tagName:"h4",className:"department-name",value:e.name,onChange:e=>w(l,"name",e),placeholder:(0,t.__)("Nom du département...","mon-theme-aca")}),(0,a.createElement)(n.RichText,{tagName:"p",className:"department-description",value:e.description,onChange:e=>w(l,"description",e),placeholder:(0,t.__)("Description...","mon-theme-aca")}),(0,a.createElement)("div",{className:"department-contacts"},(0,a.createElement)(n.RichText,{tagName:"a",className:"department-email",value:e.email,onChange:e=>w(l,"email",e),placeholder:(0,t.__)("Email...","mon-theme-aca")}),(0,a.createElement)(n.RichText,{tagName:"a",className:"department-phone",value:e.phone,onChange:e=>w(l,"phone",e),placeholder:(0,t.__)("Téléphone...","mon-theme-aca")}))))))),(0,a.createElement)("div",{className:"social-section",style:{backgroundColor:b}},(0,a.createElement)(n.RichText,{tagName:"h3",className:"section-title",value:p,onChange:e=>o({socialTitle:e}),placeholder:(0,t.__)("Titre réseaux sociaux...","mon-theme-aca")}),(0,a.createElement)(n.RichText,{tagName:"p",className:"social-subtitle",value:u,onChange:e=>o({socialSubtitle:e}),placeholder:(0,t.__)("Sous-titre...","mon-theme-aca")}),(0,a.createElement)("div",{className:"social-icons"},(0,a.createElement)("a",{className:"social-icon facebook-icon",href:E,target:"_blank",rel:"noopener noreferrer"}),(0,a.createElement)("a",{className:"social-icon twitter-icon",href:N,target:"_blank",rel:"noopener noreferrer"}),(0,a.createElement)("a",{className:"social-icon linkedin-icon",href:_,target:"_blank",rel:"noopener noreferrer"}),(0,a.createElement)("a",{className:"social-icon youtube-icon",href:C,target:"_blank",rel:"noopener noreferrer"}))))))},save:function({attributes:e}){const{quickContactTitle:t,phone:l,email:c,hours:o,departmentsTitle:m,departments:r,socialTitle:s,socialSubtitle:i,facebookUrl:h,twitterUrl:d,linkedinUrl:p,youtubeUrl:u,quickContactBgColor:E,departmentsBgColor:N,socialBgColor:_}=e,C=n.useBlockProps.save({className:"contact-sidebar-block"});return(0,a.createElement)("div",{...C},(0,a.createElement)("div",{className:"contact-sidebar-container"},(0,a.createElement)("div",{className:"quick-contact-section",style:{backgroundColor:E}},(0,a.createElement)(n.RichText.Content,{tagName:"h3",className:"section-title",value:t}),(0,a.createElement)("div",{className:"contact-items"},(0,a.createElement)("div",{className:"contact-item"},(0,a.createElement)("span",{className:"contact-icon phone-icon"}),(0,a.createElement)("div",{className:"contact-info"},(0,a.createElement)("p",{className:"contact-label"},"Téléphone"),(0,a.createElement)(n.RichText.Content,{tagName:"p",className:"contact-value",value:l}))),(0,a.createElement)("div",{className:"contact-item"},(0,a.createElement)("span",{className:"contact-icon email-icon"}),(0,a.createElement)("div",{className:"contact-info"},(0,a.createElement)("p",{className:"contact-label"},"Email"),(0,a.createElement)(n.RichText.Content,{tagName:"p",className:"contact-value",value:c}))),(0,a.createElement)("div",{className:"contact-item"},(0,a.createElement)("span",{className:"contact-icon hours-icon"}),(0,a.createElement)("div",{className:"contact-info"},(0,a.createElement)("p",{className:"contact-label"},"Horaires"),(0,a.createElement)(n.RichText.Content,{tagName:"p",className:"contact-value",value:o}))))),(0,a.createElement)("div",{className:"departments-section",style:{backgroundColor:N}},(0,a.createElement)(n.RichText.Content,{tagName:"h3",className:"section-title",value:m}),(0,a.createElement)("div",{className:"departments-list"},r.map(((e,t)=>(0,a.createElement)("div",{key:t,className:"department-item"},(0,a.createElement)(n.RichText.Content,{tagName:"h4",className:"department-name",value:e.name}),(0,a.createElement)(n.RichText.Content,{tagName:"p",className:"department-description",value:e.description}),(0,a.createElement)("div",{className:"department-contacts"},(0,a.createElement)("a",{href:`mailto:${e.email}`,className:"department-email"},e.email),(0,a.createElement)("a",{href:`tel:${e.phone.replace(/\s+/g,"")}`,className:"department-phone"},e.phone))))))),(0,a.createElement)("div",{className:"social-section",style:{backgroundColor:_}},(0,a.createElement)(n.RichText.Content,{tagName:"h3",className:"section-title",value:s}),(0,a.createElement)(n.RichText.Content,{tagName:"p",className:"social-subtitle",value:i}),(0,a.createElement)("div",{className:"social-icons"},(0,a.createElement)("a",{className:"social-icon facebook-icon",href:h,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook"}),(0,a.createElement)("a",{className:"social-icon twitter-icon",href:d,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter"}),(0,a.createElement)("a",{className:"social-icon linkedin-icon",href:p,target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn"}),(0,a.createElement)("a",{className:"social-icon youtube-icon",href:u,target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube"})))))}})})();